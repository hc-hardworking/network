import{C as e,E as a,H as l,r as t,o as s,e as d,f as r,g as o,w as n,i,t as u,L as c,I as p,p as m,j as b}from"./vendor.0b88a8e3.js";import{_ as f}from"./index.21f781e5.js";const g=e.create({timeout:5e3});g.interceptors.request.use((e=>e),(e=>(console.log(e),Promise.reject()))),g.interceptors.response.use((e=>{if(200===e.status)return e.data;Promise.reject()}),(e=>(console.log(e),Promise.reject())));const h={name:"basetable",setup(){const e=a({address:"",name:"",pageIndex:1,pageSize:10}),t=l([]),s=l(0),d=()=>{(e=>g({url:"./table.json",method:"get",params:e}))(e).then((e=>{t.value=e.list,s.value=e.pageTotal||50}))};d();const r=l(!1);let o=a({name:"",address:""}),n=-1;return{query:e,tableData:t,pageTotal:s,editVisible:r,form:o,handleSearch:()=>{e.pageIndex=1,d()},handlePageChange:a=>{e.pageIndex=a,d()},handleDelete:e=>{c.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{p.success("删除成功"),t.value.splice(e,1)})).catch((()=>{}))},handleEdit:(e,a)=>{n=e,Object.keys(o).forEach((e=>{o[e]=a[e]})),r.value=!0},saveEdit:()=>{r.value=!1,p.success(`修改第 ${n+1} 行成功`),Object.keys(o).forEach((e=>{t.value[n][e]=o[e]}))}}}},v={class:"crumbs"},y=(e=>(m("data-v-3da705ce"),e=e(),b(),e))((()=>r("i",{class:"el-icon-lx-cascades"},null,-1))),_=i(" 基础表格 "),V={class:"container"},w={class:"handle-box"},C=i("搜索"),k=i("编辑 "),x=i("删除"),j={class:"pagination"},q={class:"dialog-footer"},E=i("取 消"),I=i("确 定");var D=f(h,[["render",function(e,a,l,c,p,m){const b=t("el-breadcrumb-item"),f=t("el-breadcrumb"),g=t("el-option"),h=t("el-select"),D=t("el-input"),P=t("el-button"),U=t("el-table-column"),z=t("el-image"),S=t("el-tag"),T=t("el-table"),$=t("el-pagination"),O=t("el-form-item"),H=t("el-form"),L=t("el-dialog");return s(),d("div",null,[r("div",v,[o(f,{separator:"/"},{default:n((()=>[o(b,null,{default:n((()=>[y,_])),_:1})])),_:1})]),r("div",V,[r("div",w,[o(h,{modelValue:c.query.address,"onUpdate:modelValue":a[0]||(a[0]=e=>c.query.address=e),placeholder:"地址",class:"handle-select mr10"},{default:n((()=>[o(g,{key:"1",label:"广东省",value:"广东省"}),o(g,{key:"2",label:"湖南省",value:"湖南省"})])),_:1},8,["modelValue"]),o(D,{modelValue:c.query.name,"onUpdate:modelValue":a[1]||(a[1]=e=>c.query.name=e),placeholder:"用户名",class:"handle-input mr10"},null,8,["modelValue"]),o(P,{type:"primary",icon:"el-icon-search",onClick:c.handleSearch},{default:n((()=>[C])),_:1},8,["onClick"])]),o(T,{data:c.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:n((()=>[o(U,{prop:"id",label:"ID",width:"55",align:"center"}),o(U,{prop:"name",label:"用户名"}),o(U,{label:"账户余额"},{default:n((e=>[i("￥"+u(e.row.money),1)])),_:1}),o(U,{label:"头像(查看大图)",align:"center"},{default:n((e=>[o(z,{class:"table-td-thumb",src:e.row.thumb,"preview-src-list":[e.row.thumb]},null,8,["src","preview-src-list"])])),_:1}),o(U,{prop:"address",label:"地址"}),o(U,{label:"状态",align:"center"},{default:n((e=>[o(S,{type:"成功"===e.row.state?"success":"失败"===e.row.state?"danger":""},{default:n((()=>[i(u(e.row.state),1)])),_:2},1032,["type"])])),_:1}),o(U,{prop:"date",label:"注册时间"}),o(U,{label:"操作",width:"180",align:"center"},{default:n((e=>[o(P,{type:"text",icon:"el-icon-edit",onClick:a=>c.handleEdit(e.$index,e.row)},{default:n((()=>[k])),_:2},1032,["onClick"]),o(P,{type:"text",icon:"el-icon-delete",class:"red",onClick:a=>c.handleDelete(e.$index,e.row)},{default:n((()=>[x])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),r("div",j,[o($,{background:"",layout:"total, prev, pager, next","current-page":c.query.pageIndex,"page-size":c.query.pageSize,total:c.pageTotal,onCurrentChange:c.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),o(L,{title:"编辑",modelValue:c.editVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>c.editVisible=e),width:"30%"},{footer:n((()=>[r("span",q,[o(P,{onClick:a[4]||(a[4]=e=>c.editVisible=!1)},{default:n((()=>[E])),_:1}),o(P,{type:"primary",onClick:c.saveEdit},{default:n((()=>[I])),_:1},8,["onClick"])])])),default:n((()=>[o(H,{"label-width":"70px"},{default:n((()=>[o(O,{label:"用户名"},{default:n((()=>[o(D,{modelValue:c.form.name,"onUpdate:modelValue":a[2]||(a[2]=e=>c.form.name=e)},null,8,["modelValue"])])),_:1}),o(O,{label:"地址"},{default:n((()=>[o(D,{modelValue:c.form.address,"onUpdate:modelValue":a[3]||(a[3]=e=>c.form.address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-3da705ce"]]);export{D as default};
